.shell {
  min-height: 100vh;
}

.smoothWrapper {
  /* Required structure for ScrollSmoother (viewport wrapper) */
  position: fixed;
  inset: 0;
  overflow: hidden;
}

.smoothContent {
  /* ScrollSmoother transforms this element */
  will-change: transform;
}

.main {
  min-height: 100vh;
  padding: 0;
}

.headerBg,
.footerBg {
  position: fixed;
  left: 0;
  right: 0;
  background: var(--bg);
  z-index: 30; /* above overlay */
  pointer-events: none;
}

.headerBg {
  top: 0;
  height: calc(var(--pad) + var(--header-shift) + var(--rule-thickness));
}

.footerBg {
  bottom: 0;
  height: calc(var(--pad-bottom) + var(--rule-thickness));
}

.topLineLeft,
.topLineRight,
.bottomLineLeft,
.bottomLineRight {
  position: fixed;
  height: var(--rule-thickness);
  background: var(--line);
  border: 0;
  pointer-events: none;
  z-index: 31;
  transition: top 0.3s ease;
}

.headerLogo {
  position: fixed;
  top: var(--pad);
  left: var(--pad);
  z-index: 32;
  pointer-events: none;
  transform-origin: 0% 50%;
  transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease;
}

.headerLogoImg {
  height: 1.7rem; /* ~44px */
  width: auto;
  display: block;
  opacity: 0.95;
}

.burger {
  position: fixed;
  top: var(--burger-top);
  right: var(--pad);
  width: 2.125rem;
  --burger-gap: 0.35rem;
  --burger-line: 0.13694rem;
  height: calc(var(--burger-line) * 4 + var(--burger-gap) * 3);
  display: none;
  flex-direction: column;
  justify-content: center;
  gap: var(--burger-gap);
  background: transparent;
  border: 0;
  padding: 0;
  z-index: 40;
  cursor: pointer;
  transition: top 0.3s ease;
  overflow: visible;
}

.burgerLine {
  width: 100%;
  height: var(--burger-line);
  background: var(--line);
  border-radius: 1px;
  transform-origin: center;
  transition: transform 0.4s var(--burger-curve), opacity 0.25s ease;
}

.burgerOpen .burgerLine:nth-child(1) {
  transform: translateY(0.7rem) rotate(41deg);
}

.burgerOpen .burgerLine:nth-child(2),
.burgerOpen .burgerLine:nth-child(3) {
  opacity: 0;
}

.burgerOpen .burgerLine:nth-child(4) {
  transform: translateY(-0.7rem) rotate(-41deg);
}

.topLineLeft {
  top: calc(var(--pad) + var(--header-shift));
  left: var(--pad);
  right: calc(66.6667% + 0.3125rem); /* +5px */
}

.topLineRight {
  top: calc(var(--pad) + var(--header-shift));
  left: calc(var(--col-split) + 0.6875rem); /* +11px */
  right: var(--pad);
}

.bottomLineLeft {
  bottom: var(--pad-bottom);
  left: var(--pad);
  right: calc(66.6667% + 0.3125rem); /* +5px */
}

.bottomLineRight {
  bottom: var(--pad-bottom);
  left: calc(var(--col-split) + 0.625rem); /* +10px */
  right: var(--pad);
}

.menu {
  position: fixed;
  left: var(--pad);
  bottom: var(--dock-bottom);
  width: calc(var(--col-split) - var(--pad) - 1.8125rem); /* -29px */
  max-width: clamp(24rem, 22vw, 36rem); /* 384px..576px */
  font-family: var(--font-cormorant), var(--font-noto-jp), var(--font-noto-sc),
    serif;
  z-index: 11;
}

.menuTitle {
  margin: 0;
  font-style: italic;
  font-weight: 400;
  font-size: clamp(1.75rem, 1.6vw, 2.75rem);
  line-height: 1;
  letter-spacing: -0.045rem; /* -0.72px */
}

.menuTitleCn {
  font-size: 0.8333em; /* 20px vs 24px in Figma */
  font-style: normal;
  font-weight: 300;
}

.sep {
  display: inline-block;
  /* Figma has wider spacing than HTML spaces */
  padding-inline: 0.55em;
  font-variation-settings: "wght" 300;
}

.menuList {
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  margin-top: 2.75rem;
  gap: 0;
  font-style: italic;
  font-weight: 500;
  font-size: clamp(0.875rem, 0.9vw, 1.25rem); /* 14px..20px */
  line-height: 1.25;
  letter-spacing: -0.0225rem; /* -0.36px */
}

.menuCn {
  font-family: var(--font-noto-sc), var(--font-noto-jp), var(--font-cormorant),
    sans-serif;
  font-style: normal;
  font-weight: 300;
}

.menuLink {
  display: inline-block;
  padding: 0;
  position: relative;
  text-decoration: none;
  overflow: visible;
  --menu-underline-offset: 0.125rem;
}

.menuLink:hover {
  text-decoration: none;
}

.menuLink::after {
  content: "";
  position: absolute;
  left: 0;
  top: 100%;
  margin-top: var(--menu-underline-offset);
  height: 1px;
  width: 0;
  background: currentColor;
  transition: width 0.25s ease;
}

.menuLink:hover::after {
  width: 100%;
}

.menuLinkActive {
  font-weight: 700;
}

.menuLinkActive .menuCn {
  font-weight: 400;
}

.scrollHint {
  position: fixed;
  right: var(--pad);
  bottom: var(--arrow-bottom);
  z-index: 11;
  user-select: none;
  opacity: 0.85;
  cursor: pointer;
  pointer-events: auto;
  background: transparent;
  border: 0;
  padding: 0;
}

.scrollHintIcon {
  width: 0.9375rem; /* 15px */
  height: 1rem; /* 16px */
  display: block;
}

@media (max-width: 900px) {
  :root {
    --col-split: 42%;
  }

  .menu {
    width: min(26.25rem, calc(var(--col-split) - var(--pad))); /* 420px */
  }
}

@media (max-width: 1200px) {
  .menu {
    display: none;
  }

  .topLineRight,
  .bottomLineRight {
    display: none;
  }

  .topLineLeft,
  .bottomLineLeft {
    left: var(--pad);
    right: var(--pad);
  }

  .burger {
    display: flex;
  }
}

/* Header state: hero | expanded | menu-open
   Logo visible ONLY in expanded or menu-open. Hero = logo hidden by default. */

.headerLogo {
  opacity: 0;
  visibility: hidden;
  transform: translateY(-0.5rem);
}

:global(body[data-header-state="expanded"]) .headerLogo,
:global(body[data-header-state="menu-open"]) .headerLogo {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

/* Expanded (About/Work/Contact) */
:global(body[data-header-state="expanded"]) {
  --burger-top: var(--pad);
}

/* Menu open - fixed dimensions, always with logo */
:global(body[data-header-state="menu-open"]) {
  --burger-top: var(--pad);
}

:global(body[data-header-state="menu-open"]) .headerBg {
  transition: height 0.3s ease;
  height: calc(var(--pad) + var(--menu-open-extra));
}

:global(body[data-header-state="menu-open"]) .topLineRight,
:global(body[data-header-state="menu-open"]) .bottomLineRight {
  display: none;
}

:global(body[data-header-state="menu-open"]) .topLineLeft,
:global(body[data-header-state="menu-open"]) .bottomLineLeft {
  left: var(--pad);
  right: var(--pad);
}

:global(body[data-header-state="menu-open"]) .topLineLeft {
  top: calc(var(--pad) + var(--menu-open-extra) - var(--rule-thickness));
}

:global(body[data-header-state="menu-open"]) .menu {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  position: fixed;
  top: 1em;
  right: var(--pad);
  left: auto;
  width: min(24rem, 80vw);
  max-width: none;
  align-items: flex-start;
  text-align: left;
  bottom: auto;
  z-index: 33;
  font-size: 1.25rem;
  line-height: 2rem;
  font-weight: 500;
  opacity: 1;
  transition: opacity 0.3s ease;
  animation: menuFadeIn 0.3s ease;
}

:global(body[data-header-state="menu-open"].menu-closing) .menu {
  opacity: 0;
}

:global(body[data-header-state="menu-open"].menu-closing) .headerBg {
  height: calc(var(--pad) + var(--header-shift) + var(--rule-thickness));
}

:global(body[data-header-state="menu-open"].menu-closing) .topLineLeft {
  top: calc(var(--pad) + var(--header-shift));
}

@keyframes menuFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

:global(body[data-header-state="menu-open"]) .menuTitle {
  font-size: 1.5rem;
  font-style: normal;
  font-weight: 300;
  line-height: 2.25rem;
  letter-spacing: -0.045rem;
}

:global(body[data-header-state="menu-open"]) .menuList {
  margin-top: 1em;
}

:global(body[data-header-state="menu-open"]) .menuLink {
  font-size: 1.25rem;
}

:global(body[data-header-state="menu-open"]) .menuLink:hover::after {
  width: 0;
}

:global(body[data-header-state="menu-open"]) .burger {
  top: var(--pad);
  right: var(--pad);
  left: auto;
}
